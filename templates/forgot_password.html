{% extends 'base.html' %}
{% block body_class %}ForgotPassword{% endblock %}
{% block content %}

<h1 class="display-3">Reset Password</h1>
<p class="lead">
	Enter your email address and we'll send you a link to reset your password.
</p>

<form method="POST" class="col-md-4 mt-4" id="forgot-password-form">
	{{ form.hidden_tag() }}
	{% for field in form if field.widget.input_type != 'hidden' %}
	<p>
		{{ field.label }}
		{{ field(class_="form-control custom-form-control") }}
		{% for error in field.errors %}
		<span class="form-text text-danger"> {{ error }} </span>
		{% endfor %}
	</p>
	{% endfor %}

	<div class="btn-container">
		<button class="button-56" type="submit" id="forgot-password-btn">
			Send Reset Link
		</button>
	</div>
</form>

<script>
	document.addEventListener('DOMContentLoaded', function () {
		const forgotForm = document.getElementById('forgot-password-form');
		const forgotBtn = document.getElementById('forgot-password-btn');

		if (forgotForm && forgotBtn) {
			forgotForm.addEventListener('submit', function () {
				forgotBtn.disabled = true;
				forgotBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Sending...';
			});
		}
	});
</script>

<div class="mt-3">
	<p>
		<a href="/login">‚Üê Back to Login</a>
	</p>
	<p>
		Don't have an account? <a href="/register">Register Here</a>
	</p>
</div>

{% endblock %}
